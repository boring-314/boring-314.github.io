---
abbrlink: codestyle
categories: []
date: '2023-12-03T20:57:27.080349+08:00'
tags: []
title: 码风
updated: 2023-12-3T21:47:31.520+8:0
---
# 个人码风

## 前言

本文展现的码风仅为作者个人所用，可能与其他 OIer 的码风、C++ 标准码风、公认的规范码风有所不同，因此仅供参考。如果读者要学习，建议有所取舍，融入自己的习惯。

## 整体结构

1. 只在文件起始使用 `#include` 语句；
2. 关于 `using namespace std;`
   - 大多数情况下**使用**，即使它会污染命名空间，造成一些命名冲突。因为个人写代码常常使用 STL，所以并不想（~~其实就是懒~~）使用大量的 `std::` 前缀。并且有时候并不知道某个函数是不是标准库里的，手上的编辑器可能也没有自动补全，此时 `using namespace std;` 就比较方便。如果出现命名冲突，个人会采取将自己的变量名、函数名**简写**或**更改大小写**来消除冲突。如
     - `next` $\to$ `nxt`；
     - `find` $\to$ `fnd`；
     - `left` $\to$ `lft`；如果是数组名，`left` $\to$ `L` 或 `l`；
     - `right` $\to$ `rit`；如果是数组名，`left` $\to$ `R` 或 `r`。
     - $\dotsm$
   - 特别地，如果使用了 pb_ds 库，则**不使用**。
3. 关于 `#define int long long`（下称 _DILL_），有时会用但**不无原则地滥用**，具体如下
   - 在题目给出的及运算涉及到的数据范围在 $32$ 位整型的范围内时，**不使用** _DILL_。
   - 否则，**使用** _DILL_。即使它是一个 UB，即使它会降低可读性，甚至会降低一些程序的效率。但是，毕竟它在写到一半发现 `int` 开不下时很方便；毕竟目前应该没有毒瘤出题人会卡 _DILL_ 的常；毕竟我是一个 OIer，不需要做工程，自己调试时也不需要在乎 _DILL_，因而可读性的影响不大；虽然 UB 于我的影响不小，但也只需要关心那些会引发 RE/TLE/WA 的，如果我清楚在自己的程序中加入 _DILL_ 不会造成上述后果，那么还是能用。并且，有些自己打的算法板子经常~~要搬~~要看，如果因为模板题的范围超 `int` 的原因，数据类型都是 `long long` 或 `ll`，就会很麻烦。
   - 不过，使用 _DILL_ 也有一些习惯上的注意事项，用于防止 CE。
     {% note info %}

     1. 众所周知地，主函数的类型应该改为 `signed`。在没有 _DILL_ 时，它等价于 `int`，但是用了 _DILL_ 后只能用 `signed`，否则会 CE。
     2. 一些函数有多个类型为同一模板类型的参数，这时如果我们使用 _DILL_ 且要传入整型数据，需要保持其他参数的类型也是 `long long`。拿 `template<typename _Tp> std::max(const _Tp& __a, const _Tp& __b)` 举例，两个参数的类型一致，都是 `_Tp&`，如果我们要比较 `int a` 与 $ 0 $ 的大小，直接`max(a,0)`会 CE，这是因为`a`的类型实际上是`long long`，而 $ 0 $ 是个整型，则类型不一致，引发 CE，这时需要改为 `max(a,0ll)` 才行。

     {% endnote %}
4. 左大括号不换行，单语句 `if/for/while` 不换行。
5. 数组下标尽量从 $1$ 开始。

## 主函数内

1. 开头定义 `int i=0,j=0`，后面的 `for` 循环直接用 `for(i/j=...;...;...)` 即可。
2. 若题目是多测，读入完数据组数 `T` 后直接将解法写在 `while(T--){}` 的循环体内，而不另写 `solve()` 函数。
3. 末尾 `return 0;`，这是规定。

---

to do...
